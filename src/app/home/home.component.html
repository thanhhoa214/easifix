<ion-item
  lines="none"
  detail="false"
  class="pt-3 bg-transparent"
  style="--background: transparent"
>
  <ion-avatar
    slot="start"
    [routerLink]="['..', 'profile']"
    class="p-1 border mr-1"
  >
    <img src="assets/avatar.png" />
  </ion-avatar>
  <ion-card class="p-2 ml-1 w-100">
    <div class="d-flex flex-column">
      <b>Chào Nhi Lê!</b>
      <span>Chúc bạn ngày mới vui vẻ ❤️</span>
    </div>
  </ion-card>
</ion-item>
<ion-searchbar
  placeholder="Bạn đang gặp vấn đề gì ?"
  class="mx-auto"
  [routerLink]="['..', 'search']"
></ion-searchbar>

<ion-content>
  <div
    class="d-flex justify-content-center align-items-center"
    id="category-horizontal"
  >
    <ion-slides #sliders [options]="{ slidesPerView: 3.8 }" class="promotions">
      <ion-slide
        *ngFor="let category of categories"
        (click)="goToSearch(category.name)"
        class="d-flex flex-column justify-content-center"
      >
        <ion-avatar class="p-1 border bg-light">
          <img
            [src]="'assets/' + category.thumbnail"
            [alt]="category.name"
            class="mx-auto"
          />
        </ion-avatar>
        <small>{{ category.name }}</small>
      </ion-slide>
    </ion-slides>
  </div>

  <div>
    <ion-slides
      #sliders
      (ionSlidesDidLoad)="afterslidesLoad(sliders)"
      class="promotions mb-2"
    >
      <ion-slide
        [routerLink]="['..', 'notification', 'promotions', 'promotion-detail']"
      >
        <img src="assets/promotion-5.jpg" class="rounded-lg" />
      </ion-slide>

      <ion-slide
        [routerLink]="['..', 'notification', 'promotions', 'promotion-detail']"
      >
        <img src="assets/promotion-2.png" class="rounded-lg" />
      </ion-slide>

      <ion-slide
        [routerLink]="['..', 'notification', 'promotions', 'promotion-detail']"
      >
        <img src="assets/promotion-3.png" class="rounded-lg" />
      </ion-slide>
    </ion-slides>

    <ion-list lines="none" *ngFor="let category of categories">
      <div id="content">
        <div class="ml-4">
          <ion-label class="font-weight-bold">{{ category.name }}</ion-label>
        </div>
        <ion-item slot="end">
          <ion-slides class="nearby" [options]="{ slidesPerView: 1.75 }">
            <ion-slide
              *ngFor="let service of category.services"
              class="border rounded-lg mr-2 pr-1"
            >
              <ng-container *ngIf="nearbyUsers[getRandom()] as user">
                <ion-card class="mx-2">
                  <img [src]="'assets/' + user.avatar" />
                  /></ion-card
                >
                <div
                  class="d-flex flex-column justify-content-start align-items-start text-left small"
                  (click)="goToBooking(user.id, category.id, service.id)"
                >
                  <b>{{ service.name }}</b>
                  <span class="mt-n1 small">{{ user.name }}</span>
                  <span>
                    {{ service.price | currency: '':'VND':'4.0-0' }}
                  </span>
                </div>
              </ng-container>
            </ion-slide>
          </ion-slides>
        </ion-item>
      </div>
    </ion-list>
  </div>
</ion-content>
